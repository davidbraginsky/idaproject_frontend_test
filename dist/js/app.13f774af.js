(function(){"use strict";var e={9528:function(e,t,i){var r=i(9242),s=i(3396);const o={class:"container"};function a(e,t,i,r,a,n){const l=(0,s.up)("HeaderComp"),d=(0,s.up)("MainComp");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(l),(0,s.Wm)(d)])}const n=e=>((0,s.dD)("data-v-60824d4e"),e=e(),(0,s.Cn)(),e),l={class:"header row"},d=n((()=>(0,s._)("h2",{class:"heading"},"Добавление товара",-1))),m={class:"custom-select"},c=n((()=>(0,s._)("option",{value:"default"},"По умолчанию",-1))),p=n((()=>(0,s._)("option",{value:"mintomax"},"По цене min",-1))),_=n((()=>(0,s._)("option",{value:"maxtomin"},"По цене max",-1))),u=n((()=>(0,s._)("option",{value:"alphabetically"},"По наименованию",-1))),f=[c,p,_,u],h=n((()=>(0,s._)("div",{class:"custom-arrow"},null,-1)));function v(e,t,i,o,a,n){return(0,s.wg)(),(0,s.iD)("header",l,[d,(0,s._)("div",m,[(0,s.wy)((0,s._)("select",{class:"filter","onUpdate:modelValue":t[0]||(t[0]=e=>a.filterOption=e)},f,512),[[r.bM,a.filterOption]]),h])])}var g={data(){return{filterOption:"default"}}},I=i(89);const k=(0,I.Z)(g,[["render",v],["__scopeId","data-v-60824d4e"]]);var b=k;const w=e=>((0,s.dD)("data-v-38d8277e"),e=e(),(0,s.Cn)(),e),F={class:"content"},M={key:0,class:"boxContainer"},y=w((()=>(0,s._)("p",{class:"box"},"Item was added",-1))),L=[y];function C(e,t,i,o,a,n){const l=(0,s.up)("ItemForm"),d=(0,s.up)("GalleryComp");return(0,s.wg)(),(0,s.iD)("main",F,[(0,s.Wm)(l,{onAddedItem:n.animationHandler},null,8,["onAddedItem"]),(0,s.Wm)(d),(0,s.Wm)(r.uT,{name:"fade"},{default:(0,s.w5)((()=>[a.isVisible?((0,s.wg)(),(0,s.iD)("div",M,L)):(0,s.kq)("",!0)])),_:1})])}var V=i(7139);const D=e=>((0,s.dD)("data-v-5afe978c"),e=e(),(0,s.Cn)(),e),E={class:"itemForm"},x={class:"inputForm__field"},O=D((()=>(0,s._)("label",{class:"itemForm__required",for:"formItem_title"},"Наименование товара",-1))),P={class:"inputForm__field"},T=D((()=>(0,s._)("label",{for:"formItem_description"},"Описание товара",-1))),R={class:"inputForm__field"},j=D((()=>(0,s._)("label",{class:"itemForm__required",for:"formItem_link"},"Ссылка на изображение товара",-1))),$={class:"inputForm__field"},z=D((()=>(0,s._)("label",{class:"itemForm__required",for:"formItem_price"},"Цена товара",-1))),H=["disabled"];function q(e,t,i,o,a,n){return(0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("form",{ref:"formRef",onSubmit:t[4]||(t[4]=(0,r.iM)(((...e)=>n.submitHandler&&n.submitHandler(...e)),["prevent"])),onKeyup:t[5]||(t[5]=(...e)=>n.checkForm&&n.checkForm(...e)),autocomplete:"off"},[(0,s._)("div",x,[O,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.itemTitle=e),ref:"formItem_titleRef",type:"text",placeholder:"Введите наименование товара",id:"formItem_title"},null,512),[[r.nr,a.itemTitle]]),(0,s._)("p",{ref:"item_title_error",class:"itemForm__errorMsg"},(0,V.zw)(a.titleErrorMsg),513)]),(0,s._)("div",P,[T,(0,s.wy)((0,s._)("textarea",{ref:"formItem_descriptionRef","onUpdate:modelValue":t[1]||(t[1]=e=>a.itemDescription=e),id:"formItem_description",cols:"30",rows:"10",placeholder:"Введите Описание товара"},null,512),[[r.nr,a.itemDescription]]),(0,s._)("p",{ref:"item_description_error",class:"itemForm__errorMsg"},(0,V.zw)(a.descriptionErrorMsg),513)]),(0,s._)("div",R,[j,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.itemLink=e),ref:"formItem_linkRef",type:"text",placeholder:"Введите ссылку",id:"formItem_link"},null,512),[[r.nr,a.itemLink]]),(0,s._)("p",{ref:"item_link_error",class:"itemForm__errorMsg"},(0,V.zw)(a.linkErrorMsg),513)]),(0,s._)("div",$,[z,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.itemPrice=e),ref:"formItem_priceRef",type:"number",min:"0",placeholder:"Введите цену",id:"formItem_price"},null,512),[[r.nr,a.itemPrice]]),(0,s._)("p",{ref:"item_price_error",class:"itemForm__errorMsg"},(0,V.zw)(a.priceErrorMsg),513)]),(0,s._)("button",{type:"submit",class:"btn",disabled:!a.isCompleted},"Добавить товар",8,H)],544)])}var Z=i(6035),B=i(4275);const U={apiKey:"AIzaSyDGkp4qBPaOCDl6-FMCz2LqKuFayevlEEE",authDomain:"idaproject-19650.firebaseapp.com",projectId:"idaproject-19650",storageBucket:"idaproject-19650.appspot.com",messagingSenderId:"1014754383925",appId:"1:1014754383925:web:8a9beccc3c6794137d797c"};(0,B.ZF)(U);const W=(0,Z.ad)();var A=W,G={name:"ItemForm",data(){return{isCompleted:!1,titleErrorMsg:"empty string",priceErrorMsg:"empty string",linkErrorMsg:"emtpry string",descriptionErrorMsg:"emtpry string",titleIsValidated:!1,priceIsValidated:!1,linkIsValidated:!1,descriptionIsValidated:!1,regex:/[<>{};]/gi,itemTitle:null,itemLink:null,itemPrice:null,itemDescription:null}},methods:{submitHandler(){this.validateForm(),this.resetForm()},validateForm(){const e=this.$refs.formItem_titleRef,t=this.$refs.formItem_priceRef,i=this.$refs.formItem_linkRef,r=this.$refs.formItem_descriptionRef,s=this.$refs.item_title_error,o=this.$refs.item_price_error,a=this.$refs.item_link_error,n=this.$refs.item_description_error;this.validateTitle(e,s),this.validatePrice(t,o),this.validateLink(i,a),this.validateDescription(r,n),this.titleIsValidated&&this.priceIsValidated&&this.linkIsValidated&&this.descriptionIsValidated&&(e.classList.remove("error"),t.classList.remove("error"),i.classList.remove("error"),r.classList.remove("error"),s.classList.remove("itemForm__errorMsg--active"),o.classList.remove("itemForm__errorMsg--active"),a.classList.remove("itemForm__errorMsg--active"),n.classList.remove("itemForm__errorMsg--active"),this.addItem())},validateTitle(e,t){return this.itemTitle.length<=0?(this.titleErrorMsg="Поле является обязательным",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active")):this.regex.test(this.itemTitle)?(this.titleErrorMsg="Поле содержит недействительные символы",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active")):void(this.titleIsValidated=!0)},validatePrice(e,t){if(!this.itemPrice)return this.priceErrorMsg="Поле является обязательным",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active");this.priceIsValidated=!0},validateLink(e,t){return this.itemLink.length<=0?(this.linkErrorMsg="Поле является обязательным",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active")):this.regex.test(this.itemLink)?(this.linkErrorMsg="Поле содержит недействительные символы",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active")):void(this.linkIsValidated=!0)},validateDescription(e,t){if(/[<>{};]/gi.test(this.itemDescription))return this.descriptionErrorMsg="Поле содержит недействительные символы",e.classList.add("error"),void t.classList.add("itemForm__errorMsg--active");this.descriptionIsValidated=!0},resetForm(){const{formRef:e}=this.$refs;e.reset(),this.itemTitle=null,this.itemLink=null,this.itemPrice=null,this.itemDescription=null,this.titleIsValidated=!1,this.linkIsValidated=!1,this.descriptionIsValidated=!1,this.priceIsValidated=!1},checkForm(){this.itemTitle&&this.itemLink&&this.itemPrice?this.isCompleted=!0:this.isCompleted=!1},addItem(){this.isCompleted=!1,this.$emit("addedItem")}}};const K=(0,I.Z)(G,[["render",q],["__scopeId","data-v-5afe978c"]]);var S=K;const J={class:"gallery"},N=["onClick"],Y={class:"item__pictureContainer"},Q=["src","alt"],X={class:"item__content"},ee={class:"item__title"},te={class:"item__description"},ie={class:"item__price"};function re(e,t,i,r,o,a){return(0,s.wg)(),(0,s.iD)("div",J,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.items,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"item",key:i.id,onClick:t=>e.logItem(i)},[(0,s._)("div",Y,[(0,s._)("img",{class:"item__picture",src:i.imgPath,alt:i.altText},null,8,Q)]),(0,s._)("div",X,[(0,s._)("p",ee,(0,V.zw)(i.title),1),(0,s._)("p",te,(0,V.zw)(i.description),1),(0,s._)("p",ie,(0,V.zw)(i.price)+" руб.",1)]),(0,s._)("div",{class:"item__deleteBtn",onClick:t[0]||(t[0]=(...e)=>a.deleteItem&&a.deleteItem(...e))})],8,N)))),128))])}var se={name:"GalleryComp",data(){return{items:[]}},mounted(){this.getData()},methods:{deleteItem(){},updateItemPrices(){this.items.forEach((e=>{e.price=new Intl.NumberFormat("fr-FR").format(e.price)}))},async getData(){const e=(0,Z.hJ)(A,"items"),t=await(0,Z.PL)(e);t.docs.forEach((e=>{this.items.push(e.data())})),this.updateItemPrices()}}};const oe=(0,I.Z)(se,[["render",re],["__scopeId","data-v-305d74e6"]]);var ae=oe,ne={name:"MainComp",components:{ItemForm:S,GalleryComp:ae},data(){return{isVisible:!1}},methods:{showBox(){this.isVisible=!0,setTimeout((()=>{this.isVisible=!1}),1500)},animationHandler(){console.log("animation stuff"),this.showBox()}}};const le=(0,I.Z)(ne,[["render",C],["__scopeId","data-v-38d8277e"]]);var de=le,me={name:"App",components:{HeaderComp:b,MainComp:de}};const ce=(0,I.Z)(me,[["render",a],["__scopeId","data-v-234f6cb2"]]);var pe=ce;(0,r.ri)(pe).mount("#app")}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,r,s,o){if(!r){var a=1/0;for(m=0;m<e.length;m++){r=e[m][0],s=e[m][1],o=e[m][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](r[l])}))?r.splice(l--,1):(n=!1,o<a&&(a=o));if(n){e.splice(m--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[r,s,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,a=r[0],n=r[1],l=r[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in n)i.o(n,s)&&(i.m[s]=n[s]);if(l)var m=l(i)}for(t&&t(r);d<a.length;d++)o=a[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(m)},r=self["webpackChunkworkapp"]=self["webpackChunkworkapp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(9528)}));r=i.O(r)})();
//# sourceMappingURL=app.13f774af.js.map